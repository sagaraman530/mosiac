<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="css/bootstrapv5.3.1.css" rel="stylesheet" />
    <link href="css/bootstrapv3.1.4.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/toaster.css" rel="stylesheet" />
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/toaster.js"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
      integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <style>
      .cancel-icon i {
        cursor: pointer;
        font-size: 28px;
        color: #fff;
        float: right;
      }
    </style>
  </head>
  <body>
    <div class="backCls" style="background-size: cover">
      <div class="topBarCls">
        <i
          class="fa fa-info-circle infoIconCls"
          onclick="myGreeting1()"
          aria-hidden="true"
        ></i>
        <p class="paraTopCLs1"></p>
        <select
          class="selectLanguageCls"
          id="selectLanguageId"
          onchange="changeLanguage()"
        ></select>
      </div>

      <!-- <h4>Εξερεύνησε το μωσαϊκό
      </h4> -->
      <div class="data">
        <div>
          <img class="vectorImgCls1" src="images/Vector1.png" />
          <img class="vectorImgCls2" src="images/Vector2.png" />
          <div class="card" id="viewAfterSeconds" style="padding: 20px">
            <span class="cancel-icon" onclick="closePop()">
              <i class="fa fa-times-circle" aria-hidden="true"></i>
            </span>
            <p class="centerParaCLs">Can you find the mosiac here?</p>
          </div>
          <img class="vectorImgCls3" src="images/Vector3.png" />
          <img class="vectorImgCls4" src="images/Vector4.png" />
        </div>
      </div>

      <footer>
        <div class="footer-button-wrapper">
          <a onclick="map()" class="footer-btn">
            <img src="images/MapBtn.png" />
          </a>
          <a onclick="chkLocation()" class="footer-btn"
            ><img src="images/scanButton.png"
          /></a>
          <a onclick="profile()" class="footer-btn"
            ><img src="images/profileBtn.png"
          /></a>
          <!-- <button onclick="map()">
            <span class="button-icon">
              <span class="material-symbols-outlined">
                map
              </span>
            </span>
            <span class="button-text">
              Map
            </span>
          </button>
          <button onclick="chkLocation()" class="footer-btn"
            ><img src="images/scanButton.png"
          /></button>
          <button onclick="profile()" class="footer-btn"
            ><img src="images/profileBtn.png"
          /></button> -->
        </div>
      </footer>
      <div class="card" id="viewAfterSeconds1" style="top: 27px">
        <div class="cancel-icon" onclick="closePop1()">
          <i
            class="fa fa-times-circle"
            style="right: 35px; top: 73px"
            aria-hidden="true"
          ></i>
        </div>
        <!-- <h4>Εξερεύνησε το μωσαϊκό
    </h4> -->
        <div class="data">
          <div class="mb-4">
            <img src="images/Heart.png" class="w-30px" alt="Image 1" />
            <span class="infoLineOne">
              Bridge of Love is a mosaic of pictures connecting people &
              places</span
            >
          </div>
          <div class="mb-4">
            <img src="images/Upload.png" class="w-30px" alt="Image 1" />
            <span class="infoLineTwo">
              Upload your own picture & share it with others</span
            >
          </div>
          <div class="mb-4">
            <img src="images/Search.png" class="w-30px" alt="Image 1" />
            <span class="infoLineThree">
              Search Pictures & find your own images & explore pictures from
              other cities</span
            >
          </div>
          <!-- Add more data as needed -->
        </div>
      </div>
    </div>
    </div>
  </body>
  <script src="js/common.js"></script>
  <script>
    $(document).ready(function () {
      console.log(languagesArry);
      var option = "";
      for (let i = 0; i < languagesArry.length; i++) {
        option +=
          `<option value='${languagesArry[i]?.code}' selected='${languagesArry[i]?.selected}'>
            ${languagesArry[i]?.name}
          </option>`;
      }
      $("#selectLanguageId").empty().append(option);
      $("#selectLanguageId").val(
        localStorage.getItem("storedLanguage")
          ? localStorage.getItem("storedLanguage")
          : "english"
      );
      changeLanguage();
      getLocations();

      setTimeout(setTimeout(myGreeting, 2000), 2000);
    });
    function myGreeting() {
      $("#viewAfterSeconds").fadeIn();
    }
    function myGreeting1() {
      $("#viewAfterSeconds1").fadeIn();
    }

    function chkLocation() {
      window.location.href = "checkLocation.html";
    }
    function map() {
      window.location.href = "viewMap.html";
    }
    function profile() {
      window.location.href = "profile.html";
    }

    function aboutUs() {
      window.location.href = "aboutUs.html";
    }

    function closePop() {
      $("#viewAfterSeconds").fadeOut();
    }
    function closePop1() {
      $("#viewAfterSeconds1").fadeOut();
    }

    function openProfile() {
      window.location.href = "profile.html";
    }

    function getLocations() {
      var url_string = window.location.href;
      var url = new URL(url_string);
      let mainUrl = '';
      if(url.searchParams.has("location")) {
        var location = url.searchParams.get("location");
        mainUrl = "https://2024api.icons4good.com/getCombinedData?locationid=" + location;
      } else {
        mainUrl = "https://2024api.icons4good.com/getCombinedData?locationname=" + url_string.split('?')[1];
      }

      $.ajax({
        url: mainUrl,
        async: false,
        type: "post",
        success: function (res) {
          if(res?.result !== null) {
            localStorage.setItem("storedData", JSON.stringify(res?.result[0]));
            $(".backCls").css(
              "background-image",
              "url(" + res?.result[0]?.bgimg + ")"
            );
          } else {
            toastr["success"](res?.message);
          }
        },
        error: function (err) {
          console.log(err);
        },
      });
    }
  </script>
</html>
